# üñº Wallpaper
**Wallpaper** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±–º–µ–Ω–∞ –æ–±–æ—è–º–∏:  
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫–∏, –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–≥–∏, –∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (2FA).

**Production:** https://wallpaper.wehelpy.ru
## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [API Endpoints](#-api-endpoints-–æ—Å–Ω–æ–≤–Ω–æ–µ)
- [–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker](#-–∑–∞–ø—É—Å–∫-—á–µ—Ä–µ–∑-docker-–ª–æ–∫–∞–ª—å–Ω–æ)
---
‚ö° Backend: Django + DRF + JWT  
üé® Frontend: React (—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–∞–∫ SPA —á–µ—Ä–µ–∑ Django)  
üóÑ –•—Ä–∞–Ω–∏–ª–∏—â–µ: PostgreSQL + S3 (–¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫)  
üêá –û—á–µ—Ä–µ–¥–∏: Celery + RabbitMQ + Redis  
üöÄ –î–µ–ø–ª–æ–π: Docker Compose + Gunicorn + Nginx  

---
–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
![–ì–ª–∞–≤–Ω–∞—è](docs/screenshots/main.png)

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```mermaid
flowchart TD
    U[User] --> N[Nginx]
    N -->|API calls| D[Django + DRF]
    N -->|SPA routes| R[React SPA]
    
    R -->|API calls| D
    
    D --> P[(PostgreSQL)]
    D --> C[(Redis)]
    D --> S3[(S3 Storage)]
    D --> Q[RabbitMQ]
    
    Q --> W[Celery Workers]
    W --> S3
    W --> P
    
    C -->|cache| D
    C -->|celery results| W
    
    P --> D
    S3 -->|media files| D
```

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ –ê–∫–∫–∞—É–Ω—Ç—ã
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—Ö–æ–¥–∞ (–¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
- –î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2FA)
- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤–∞—Ç–∞—Ä–æ–º

### üñºÔ∏è –û–±–æ–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö –æ–±–æ–µ–≤ (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ S3)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –æ–±–æ–µ–≤
- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º
- –õ–∞–π–∫–∏ –∏ –∑–∞–∫–ª–∞–¥–∫–∏
- –ñ–∞–ª–æ–±—ã (—Ä–µ–ø–æ—Ä—Ç—ã)

### üè∑Ô∏è –¢–µ–≥–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö —Ç–µ–≥–æ–≤  
  (—á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–æ–º–∞–Ω–¥—É `python manage.py create_tags`)

### üõ†Ô∏è –ê–¥–º–∏–Ω–∫–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∂–∞–ª–æ–± –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è

### üì° API
- Swagger –∏ Redoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤ DEBUG-—Ä–µ–∂–∏–º–µ
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è + refresh —Ç–æ–∫–µ–Ω

---

## üìö API Endpoints (–æ—Å–Ω–æ–≤–Ω–æ–µ)

###  –ê–∫–∫–∞—É–Ω—Ç—ã
- `POST /api/registration/` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/login/` ‚Äî –≤—Ö–æ–¥
- `POST /api/login-verification/` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –≤—Ö–æ–¥–∞
- `GET /api/profile/` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å
- `POST /api/2fa/enable/` ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ 2FA(–ø–æ—á—Ç–∞)
- `POST /api/2fa/verify/` ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ 2FA(–∫–æ–¥)

###  –û–±–æ–∏
- `GET /api/best-wallpapers/` ‚Äî –ª—É—á—à–∏–µ –æ–±–æ–∏
- `POST /api/create/` ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±–æ–∏
- `GET /api/tags/` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤
- `GET /api/wallpapers/` ‚Äî –ø–æ–∏—Å–∫ –ø–æ –æ–±–æ—è–º
- `GET /api/wallpapers/<id>/` ‚Äî –¥–µ—Ç–∞–ª–∏ –æ–±–æ–µ–≤
- `POST /api/wallpapers/<id>/like/` ‚Äî –ª–∞–π–∫/–∞–Ω–ª–∞–π–∫
- `POST /api/bookmarks/` ‚Äî –∑–∞–∫–ª–∞–¥–∫–∏
- `POST /api/reports/` ‚Äî –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (–ª–æ–∫–∞–ª—å–Ω–æ)

```bash
git clone https://github.com/slime4ik/wall.git
cd wall
docker-compose up --build
```
## –°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç–∏–∫–∏ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# —Å—Ç–∞—Ç–∏–∫–∞
docker-compose run --rm web python manage.py collectstatic --noinput
# –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose run --rm web python manage.py migrate
